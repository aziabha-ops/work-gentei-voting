<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WORK GENTEI 2026 Voting</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: '"Inter", "Segoe UI", system-ui, sans-serif';
            background: linear-gradient(135deg, #0a1128 0%, #1a2847 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container { max-width: 800px; width: 100%; }
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        .header h1 {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 5px;
            letter-spacing: -1px;
        }
        .header h1 span {
            color: #dc143c;
        }
        .header-line {
            height: 3px;
            background: linear-gradient(90deg, #dc143c, #00d4ff);
            width: 300px;
            margin: 15px auto;
            border-radius: 2px;
        }
        .header p {
            font-size: 1rem;
            color: #00d4ff;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        .card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(0,212,255,0.15);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        .screen { display: none; }
        .screen.active { display: block; }
        
        .role-screen h2 {
            font-size: 2rem;
            color: white;
            margin-bottom: 30px;
            font-weight: 900;
        }
        .role-buttons {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        .role-btn {
            flex: 1;
            padding: 30px;
            border: 2px solid rgba(0,212,255,0.2);
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            color: #999;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .role-btn:hover {
            border-color: #00d4ff;
            background: rgba(0,212,255,0.05);
            color: #00d4ff;
        }
        .role-btn.selected {
            border-color: #dc143c;
            background: rgba(220,20,60,0.1);
            color: #dc143c;
        }
        
        .name-input-section {
            margin-bottom: 30px;
        }
        label {
            display: block;
            font-size: 0.85rem;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        input[type="text"], input[type="email"] {
            width: 100%;
            padding: 12px 15px;
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(0,212,255,0.2);
            border-radius: 6px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.2s ease;
            margin-bottom: 15px;
        }
        input[type="text"]:focus, input[type="email"]:focus {
            outline: none;
            border-color: #00d4ff;
            background: rgba(0,212,255,0.05);
        }
        input::placeholder {
            color: rgba(255,255,255,0.3);
        }
        .btn-start {
            width: 100%;
            padding: 16px;
            background: linear-gradient(90deg, #dc143c, #ff1744);
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .btn-start:hover:not(:disabled) { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 24px rgba(220,20,60,0.4); 
        }
        .btn-start:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0,212,255,0.2);
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #dc143c, #00d4ff);
            transition: width 0.3s ease;
        }
        .category-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: white;
            margin-bottom: 10px;
        }
        .category-subtitle {
            font-size: 0.9rem;
            color: #999;
            margin-bottom: 20px;
        }
        .criteria {
            background: rgba(0,0,0,0.3);
            border-left: 4px solid #00d4ff;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 30px;
            color: #cbd5e1;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .form-group {
            margin-bottom: 25px;
        }
        .car-image {
            width: 100%;
            height: 180px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(0,212,255,0.1);
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.9rem;
            overflow: hidden;
        }
        .car-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background: rgba(0,0,0,0.1);
        }
        select {
            width: 100%;
            padding: 12px 15px;
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(0,212,255,0.2);
            border-radius: 6px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        select:focus {
            outline: none;
            border-color: #00d4ff;
            background: rgba(0,212,255,0.05);
        }
        select option {
            background: #1a2847;
            color: white;
        }
        .selection-confirm {
            display: none;
            background: rgba(0,212,255,0.08);
            border: 1px solid rgba(0,212,255,0.2);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        .selection-confirm.show { display: block; }
        .selection-confirm-text {
            color: #999;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .selection-confirm-value {
            color: #00d4ff;
            font-weight: 900;
            font-size: 1.1rem;
            font-family: monospace;
        }
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: space-between;
            margin-top: 35px;
        }
        button {
            padding: 14px 24px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn-back {
            background: rgba(0,0,0,0.2);
            color: #999;
            flex: 0 0 auto;
            border: 1px solid rgba(0,212,255,0.1);
        }
        .btn-back:hover { background: rgba(0,212,255,0.08); color: #00d4ff; }
        .btn-back:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }
        .btn-next {
            background: linear-gradient(90deg, #dc143c, #ff1744);
            color: white;
            flex: 1;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .btn-next:hover:not(:disabled) { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 24px rgba(220,20,60,0.4); 
        }
        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .voter-info {
            text-align: center;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        .error {
            color: #dc143c;
            font-size: 0.85rem;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>WORK <span>GENTEI</span></h1>
            <div class="header-line"></div>
            <p>2026 Voting</p>
        </div>

        <div class="card">
            <div class="screen active" id="roleScreen">
                <div class="role-screen">
                    <h2>Select Your Role</h2>
                    
                    <div class="role-buttons">
                        <button class="role-btn" onclick="selectRole('entrant')">Work Gentei Entrant</button>
                        <button class="role-btn" onclick="selectRole('spectator')">Spectator</button>
                    </div>

                    <div class="name-input-section">
                        <label for="voterName">Your Name *</label>
                        <input type="text" id="voterName" placeholder="e.g. John Smith">
                        <span class="error" id="nameError"></span>
                    </div>

                    <div class="name-input-section" id="emailSection" style="display: none;">
                        <label for="voterEmail">Email *</label>
                        <input type="email" id="voterEmail" placeholder="your@email.com">
                        <span class="error" id="emailError"></span>
                    </div>

                    <button class="btn-start" onclick="startVoting()">Begin Voting</button>
                </div>
            </div>

            <div class="screen" id="votingScreen">
                <div class="voter-info" id="voterInfo"></div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div id="votingContainer"></div>
            </div>
        </div>
    </div>

    <script>
        const CLOUDINARY_CLOUD = 'dbee9zuk5';
        const CLOUDINARY_BASE = `https://res.cloudinary.com/${CLOUDINARY_CLOUD}/image/upload/`;

        const carData = [
            { make: 'BMW', model: 'E92 M3', cloudId: 'Amit_Doolab_-_E92_M3_kofsoh' },
            { make: 'Volkswagen', model: 'Golf mk2', cloudId: 'Avi_-_Golf_mk2_mjbb8k' },
            { make: 'BMW', model: '850i', cloudId: 'Chip_Moosa_-_850i_rb0mzg' },
            { make: 'BMW', model: '635 CSI', cloudId: 'Chip_Moosa_-_635_CSI_rgkz7l' },
            { make: 'BMW', model: 'E39 535i', cloudId: 'Chip_Moosa_-_535i_tdt29a' },
            { make: 'BMW', model: 'E30 325is', cloudId: 'Chip_Moosa_-_E30_325is_bqzehc' },
            { make: 'Mercedes', model: 'C63', cloudId: 'Devan_Moonsammy_-_C63_uooh7u' },
            { make: 'BMW', model: 'E46 M3', cloudId: 'Devan_Moonsammy_-_E46_M3_pz2lp0' },
            { make: 'BMW', model: 'E92 M3', cloudId: 'Dhiresh_Dewnaryan_-_E92_M3_glzulq' },
            { make: 'Volkswagen', model: 'CITI', cloudId: 'Dooshen_Pillay_-_CITI_l6zbqk' },
            { make: 'BMW', model: 'E30 325i', cloudId: 'Dooshen_Pillay_-_E30_325i_zex0za' },
            { make: 'Volkswagen', model: 'Golf mk2', cloudId: 'Dooshen_Pillay_-_Golf_mk2_elbqoz' },
            { make: 'BMW', model: 'E92 M3', cloudId: 'Duen_Reddy_-_E92_M3_pokjwh' },
            { make: 'BMW', model: 'M Coupe', cloudId: 'Duen_Reddy_-_M_Coupe_bz8jyx' },
            { make: 'BMW', model: 'F80 M3', cloudId: 'Dwayne_Santos_-_F80_M3_abfqql' },
            { make: 'Volkswagen', model: 'Golf 7R', cloudId: 'Faadil_Osman_-_Golf_7R_ifiy2y' },
            { make: 'BMW', model: 'E30 325is', cloudId: 'Fayaz_Sirkhot_-_E30_325is_lrksca' },
            { make: 'Volkswagen', model: 'Citirox', cloudId: 'Harris_Chelladu_-_Citirox_vxtqre' },
            { make: 'Volkswagen', model: 'Golf 8R', cloudId: 'Harris_Chelladu_-_Golf_8R_vrddaa' },
            { make: 'Volkswagen', model: 'Golf 6R', cloudId: 'Irfaan_Osman_-_Golf_6R_ns6djr' },
            { make: 'BMW', model: 'E30 325i', cloudId: 'Krinash_Naidoo_-_E30_325i_j4jx1l' },
            { make: 'BMW', model: 'E36 325i cab', cloudId: 'Kugan_Munsami_-_E36_325i_cab_ezhnaq' },
            { make: 'Volkswagen', model: 'Golf 4', cloudId: null },
            { make: 'BMW', model: 'VR6', cloudId: 'Leonard_-_VR6_svvxai' },
            { make: 'BMW', model: 'E30 M3', cloudId: 'Manny_-_E30_M3_ssynpv' },
            { make: 'BMW', model: 'E92 M3', cloudId: 'Marco_Ferreira_-_E92_M3_lwrq83' },
            { make: 'Audi', model: 'S3', cloudId: 'Milano_-_S3_xxzhy' },
            { make: 'BMW', model: 'E30', cloudId: null },
            { make: 'BMW', model: 'E28', cloudId: null },
            { make: 'Porsche', model: '997 turbo', cloudId: 'Neeresh_Pablo_-_997_turbo_c4fjuj' },
            { make: 'BMW', model: 'E46 330ci', cloudId: null },
            { make: 'Audi', model: 'RS3', cloudId: 'Preshalan_Naidoo_-_RS3_b8yhps' },
            { make: 'BMW', model: 'E30 325is', cloudId: 'Preshan_Ramoorthy_-_E30_325is_znjlkw' },
            { make: 'BMW', model: 'M2 Comp', cloudId: 'Preshan_Ramoorthy_-_M2_Comp_mua3of' },
            { make: 'BMW', model: 'E46 M3', cloudId: 'Revaun_Modern_-_E46_M3_wfivs5' },
            { make: 'BMW', model: 'E92 M3', cloudId: 'Revaun_Modern_-_E92_M3_x4cq7y' },
            { make: 'Toyota', model: 'GT86', cloudId: 'Ronnie_James_Botes_-_GT86_qznmeq' },
            { make: 'BMW', model: 'F80 M3', cloudId: 'Rushay_Nana_-_F80_M3_ixg6fv' },
            { make: 'Volkswagen', model: 'Citi velocity 1.4i', cloudId: 'Shaheed_Collins_-_Citi_velocity_1.4i_tgyp78' },
            { make: 'BMW', model: 'E30 Bauer', cloudId: 'Teyen_Naidoo_-_E30_Bauer_h5opqo' },
            { make: 'Volkswagen', model: 'Golf 2', cloudId: null },
            { make: 'BMW', model: 'E92 M3', cloudId: 'Uwais_Mohideen_-_E92_M3_j2jfyp' },
            { make: 'BMW', model: 'E30 Box', cloudId: null },
            { make: 'BMW', model: 'E90 M3', cloudId: null },
            { make: 'Mercedes Benz', model: 'SL63', cloudId: 'Zaahid_Vally_-_M3_Comp_xr9wff' }
        ];

        const entrantCategories = [
            { id: 'showcase', title: 'WORK GENTEI ‚Äì SHOWCASE CHAMPION', subtitle: 'Ranked 1st-4th', criteria: 'Vote for the vehicle that best represents WORK Gentei. The car with the most votes wins 1st place, 2nd highest gets 2nd place, 3rd highest gets 3rd place, 4th highest gets 4th place.', icon: 'üèÜ' },
            { id: 'og_wheel', title: 'WORK GENTEI ‚Äì BEST OG WORK WHEEL', subtitle: 'Category Award', criteria: 'Recognises the best original/classic WORK wheel specification. Period-correct, iconic, or historically significant.', icon: 'üîÑ' },
            { id: 'fitment', title: 'WORK GENTEI ‚Äì BEST WHEEL FITMENT', subtitle: 'Category Award', criteria: 'Outstanding offset, camber, tuck, and stance execution. Technical precision in wheel fitment.', icon: '‚öôÔ∏è' },
            { id: 'phat', title: 'WORK GENTEI ‚Äì THE PHAT AWARD', subtitle: 'Category Award', criteria: 'The most visually stunning, aggressive, or statement-making build. Pure wow factor.', icon: 'üí•' },
            { id: 'rare', title: 'WORK GENTEI ‚Äì MOST RARE WORK WHEEL', subtitle: 'Category Award', criteria: 'Rarest, most exclusive, or hardest-to-find WORK wheel specification. Limited production, discontinued, or unique spec.', icon: 'üíé' }
        ];

        const spectatorCategories = [
            { id: 'crowd_fav', title: 'WORK GENTEI ‚Äì CROWD FAVORITE', subtitle: 'Ranked 1st-2nd', criteria: 'Vote for your favourite vehicle. The car with the most votes wins 1st place, 2nd highest vote count wins 2nd place.', icon: '‚ù§Ô∏è' }
        ];

        let selectedRole = null;
        let voterName = '';
        let voterEmail = '';
        let currentCategory = 0;
        let categories = [];
        let votes = {};

        function selectRole(role) {
            selectedRole = role;
            document.querySelectorAll('.role-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            
            const emailSection = document.getElementById('emailSection');
            if (role === 'entrant') {
                emailSection.style.display = 'block';
            } else {
                emailSection.style.display = 'none';
            }
        }

        function startVoting() {
            document.getElementById('nameError').textContent = '';
            document.getElementById('emailError').textContent = '';

            voterName = document.getElementById('voterName').value.trim();
            if (!voterName) {
                document.getElementById('nameError').textContent = 'Name required';
                return;
            }

            if (selectedRole === 'entrant') {
                voterEmail = document.getElementById('voterEmail').value.trim();
                if (!voterEmail) {
                    document.getElementById('emailError').textContent = 'Email required';
                    return;
                }
                categories = entrantCategories;
            } else if (selectedRole === 'spectator') {
                categories = spectatorCategories;
            } else {
                alert('Please select a role');
                return;
            }

            document.getElementById('roleScreen').classList.remove('active');
            document.getElementById('votingScreen').classList.add('active');
            renderCategory();
        }

        function renderCategory() {
            const cat = categories[currentCategory];
            const container = document.getElementById('votingContainer');
            const voterInfoText = selectedRole === 'entrant' ? `${voterName} (Entrant)` : `${voterName} (Spectator)`;
            
            document.getElementById('voterInfo').textContent = voterInfoText;
            document.getElementById('progressFill').style.width = `${((currentCategory + 1) / categories.length) * 100}%`;
            
            container.innerHTML = `
                <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                    <span style="font-size: 3rem;">${cat.icon}</span>
                    <div style="flex: 1;">
                        <h2 class="category-title">${cat.title}</h2>
                        <p class="category-subtitle">${cat.subtitle}</p>
                    </div>
                </div>
                <div class="criteria">${cat.criteria}</div>
                <div class="car-image" id="carImageContainer"></div>
                <div class="form-group">
                    <label for="carSelect">Select a Vehicle</label>
                    <select id="carSelect" onchange="updateSelection()">
                        <option value="">-- Choose a vehicle --</option>
                        ${carData.map((car, idx) => `<option value="${idx}">Car ${idx + 1}_${car.make}_${car.model}</option>`).join('')}
                    </select>
                </div>
                <div id="confirm" class="selection-confirm"></div>
                <div class="button-group">
                    <button class="btn-back" onclick="previousCategory()" ${currentCategory === 0 ? 'disabled' : ''}>‚Üê Back</button>
                    <button class="btn-next" id="nextBtn" onclick="nextCategory()" disabled>
                        ${currentCategory === categories.length - 1 ? 'Submit All Votes' : 'Next ‚Üí'}
                    </button>
                </div>
            `;
        }

        function updateSelection() {
            const select = document.getElementById('carSelect');
            const confirm = document.getElementById('confirm');
            const nextBtn = document.getElementById('nextBtn');
            const carImageContainer = document.getElementById('carImageContainer');
            
            if (select.value) {
                const carIdx = parseInt(select.value);
                const car = carData[carIdx];
                const carNum = carIdx + 1;
                
                confirm.innerHTML = `
                    <div class="selection-confirm-text">Selected</div>
                    <div class="selection-confirm-value">Car ${carNum}_${car.make}_${car.model}</div>
                `;
                confirm.classList.add('show');
                
                if (car.cloudId) {
                    const imageUrl = CLOUDINARY_BASE + car.cloudId;
                    carImageContainer.innerHTML = `<img src="${imageUrl}" alt="Car ${carNum}" onerror="this.parentElement.innerHTML='<div style=\"text-align: center; color: #999; padding: 20px;\">Car ${carNum} Image</div>';">`;
                } else {
                    carImageContainer.innerHTML = `<div style="text-align: center; color: #999; padding: 20px;">Car ${carNum} Image</div>`;
                }
                
                nextBtn.disabled = false;
                votes[categories[currentCategory].id] = select.value;
            } else {
                confirm.classList.remove('show');
                carImageContainer.innerHTML = '';
                nextBtn.disabled = true;
            }
        }

        function nextCategory() {
            if (currentCategory < categories.length - 1) {
                currentCategory++;
                renderCategory();
            } else {
                const role = selectedRole === 'entrant' ? 'Entrant' : 'Spectator';
                alert(`‚úì All votes submitted!\n\nVoter: ${voterName}\nRole: ${role}\n\nThank you for voting!`);
                location.reload();
            }
        }

        function previousCategory() {
            if (currentCategory > 0) {
                currentCategory--;
                renderCategory();
                if (votes[categories[currentCategory].id] !== undefined) {
                    document.getElementById('carSelect').value = votes[categories[currentCategory].id];
                    updateSelection();
                }
            }
        }
    </script>
</body>
</html>
